{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Security scan threshold configuration for Securing Ralph Loop",

  "semgrep": {
    "enabled": true,
    "failOn": {
      "error": true,
      "warning": false,
      "info": false
    }
  },

  "remediation": {
    "maxRetries": 3,
    "rollbackOnFailure": true,
    "escalateAfterRetries": true
  },

  "iteration": {
    "maxIterations": 10
  },

  "audit": {
    "enabled": true,
    "logPath": "state/security-audit.jsonl"
  },

  "notifications": {
    "slack": {
      "notifyOn": ["escalation", "completion", "failure"],
      "_note": "Webhook URL set via CLI: --slack-webhook URL"
    },
    "github": {
      "labels": ["security", "automated", "ralph-loop"]
    }
  },

  "baseline": {
    "enabled": true,
    "issue_labels": ["security-debt", "ralph-detected"],
    "dedup_by_file": true,
    "_note": "GitHub issue creation controlled via CLI: --no-create-issues to disable"
  }
}
